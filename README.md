# snowball-fight-online
websokectを使ってオンラインゲームを作る

![thumb](https://user-images.githubusercontent.com/16290220/206481084-062613bd-c508-460e-a41a-8c6e18c87dde.png)

## demo
https://snowball-fight-online-production.up.railway.app/

## 仕様

- WebSocket を使ったオンラインゲーム
- ページにアクセスすると自機が作られる
- `w`, `a`, `s`, `d` で移動ができる
  - 自機が画面の中心に居てマップが動く
  - 歩くと雪を踏む足音が鳴る
- 画面クリックで雪玉を投げられる
  - 雪玉が当たると自機が移動する
- `Agora` を使って音声チャットができる
  - アクセス時はON
  - 左上の `mute` ボタンでミュートが可能
  - 音声が出るときは自機の頭の上にスピーカーマークが表示される
  - 距離の近いユーザーの音声しか聞こえない
- デプロイは `Railway` 
  - heroku みたいなイメージだけど GitHub と連携して適当にぽちぽちしたら速攻でデプロイできた
  - ビルドとかないアプリだったからかもだけどデプロイがめっちゃ早い
  - 月500h分は無料らしい
  
## やってみたいこと

- 雪玉をチャージして大きくできるようにする
  - 今はクリックで即投げ
  - `mousedown` でチャージ開始で `mouseup` のタイミングで投げる
  - 溜めた時間が長いと球が大きくなり、その代わりに球が遅くなる
- 画面の端を実装
  - ループする or 壁があって出れない
- チーム戦
  - ランダムで色分けされて仲間には雪玉は当たらない
  - 仲間しか話が聞こえない（オンラインのチーム戦みたいなイメージ）
- 敵AI
  - ユーザー以外の敵を置いておく
- ランキングシステム
  - 倒した数を数えて順位を出すとかも楽しそう（オンラインのスネークのゲームのやつみたいなイメージ）
  - 一位には王冠とかつけて、それを狩ると一位になるとかおもろそう
- アイテムで強化
  - 雪玉の速さとかマルチプルとかできると良いかも
  - 一回当たっても死なないとかも面白そう
  - サポートアイテムとか、サポート技があってもいいかも（シールドとか、回復とか）
- HP導入
  - 今は一発なのでハートを作るなど
- キャラクターのアニメーション
  - 振り向く（左右）
  - スプライトで歩くアニメーションを作る
- スマホ対応
  - スマホでも遊びたい

## 参考
https://www.youtube.com/watch?v=4GQCkW23rTU
